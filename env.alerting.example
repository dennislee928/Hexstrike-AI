# HexStrike AI Alerting Configuration
# Copy this file to .env and configure your notification channels

# =============================================================================
# GENERAL ALERTING SETTINGS
# =============================================================================

# Enable/disable alerting system
ALERT_ENABLED=true

# Default alert severity (info, warning, critical)
ALERT_DEFAULT_SEVERITY=warning

# Alert retention and history settings
ALERT_RETENTION_DAYS=30
ALERT_MAX_HISTORY=1000

# Rate limiting settings
ALERT_RATE_LIMIT_ENABLED=true
ALERT_MAX_PER_MINUTE=10
ALERT_BURST_LIMIT=5

# Escalation settings
ESCALATION_ENABLED=true
ESCALATION_CHECK_INTERVAL=60

# Notification retry settings
NOTIFICATION_RETRY_ENABLED=true
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_DELAY=300

# =============================================================================
# EMAIL NOTIFICATIONS
# =============================================================================

# SMTP server configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# Email addresses for alerts
ALERT_FROM_EMAIL=alerts@hexstrike.ai
ALERT_TO_EMAILS=admin@company.com,security@company.com,oncall@company.com
ALERT_CC_EMAILS=management@company.com
ALERT_BCC_EMAILS=audit@company.com

# =============================================================================
# SLACK NOTIFICATIONS
# =============================================================================

# Slack webhook URL (create in Slack app settings)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Slack channel and appearance
SLACK_CHANNEL=#alerts
SLACK_USERNAME=HexStrike AI
SLACK_ICON_EMOJI=:rotating_light:

# =============================================================================
# DISCORD NOTIFICATIONS
# =============================================================================

# Discord webhook URL (create in Discord server settings)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Discord appearance
DISCORD_USERNAME=HexStrike AI
DISCORD_AVATAR_URL=https://hexstrike.ai/logo.png

# =============================================================================
# MICROSOFT TEAMS NOTIFICATIONS
# =============================================================================

# Teams webhook URL (create in Teams channel connectors)
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/TEAMS/WEBHOOK

# =============================================================================
# PAGERDUTY INTEGRATION
# =============================================================================

# PagerDuty integration key (from PagerDuty service settings)
PAGERDUTY_INTEGRATION_KEY=your-pagerduty-integration-key
PAGERDUTY_SERVICE_KEY=your-pagerduty-service-key

# =============================================================================
# GENERIC WEBHOOK NOTIFICATIONS
# =============================================================================

# Generic webhook for custom integrations
ALERT_WEBHOOK_URL=https://your-webhook-endpoint.com/alerts
WEBHOOK_AUTH_TOKEN=your-webhook-auth-token
WEBHOOK_TIMEOUT=30

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================

# Grafana server settings
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=your-grafana-api-key
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# PROMETHEUS CONFIGURATION
# =============================================================================

# Prometheus server settings
PROMETHEUS_URL=http://localhost:9090
PROMETHEUS_QUERY_TIMEOUT=30

# =============================================================================
# ALERTMANAGER CONFIGURATION
# =============================================================================

# Alertmanager server settings
ALERTMANAGER_URL=http://localhost:9093

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Alert encryption (optional)
ALERT_ENCRYPTION_ENABLED=false
ALERT_ENCRYPTION_KEY=your-encryption-key-here

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT SERVICES
# =============================================================================

# Gmail SMTP Example:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-gmail@gmail.com
# SMTP_PASSWORD=your-app-password

# Outlook SMTP Example:
# SMTP_HOST=smtp-mail.outlook.com
# SMTP_PORT=587
# SMTP_USER=your-email@outlook.com
# SMTP_PASSWORD=your-password

# AWS SES SMTP Example:
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=your-ses-smtp-username
# SMTP_PASSWORD=your-ses-smtp-password

# SendGrid SMTP Example:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=your-sendgrid-api-key

# =============================================================================
# NOTIFICATION CHANNEL TESTING
# =============================================================================

# To test your notification channels, you can use the following endpoints:
# POST /api/alerts/test/email
# POST /api/alerts/test/slack
# POST /api/alerts/test/discord
# POST /api/alerts/test/teams
# POST /api/alerts/test/pagerduty
# POST /api/alerts/test/webhook

# =============================================================================
# ESCALATION POLICY EXAMPLES
# =============================================================================

# Critical alerts escalation timeline:
# 0 minutes: Slack + Email
# 5 minutes: Discord + Teams + PagerDuty
# 15 minutes: Webhook + Email (repeat every 10 minutes)
# 30 minutes: PagerDuty (repeat every 15 minutes)

# Warning alerts escalation timeline:
# 0 minutes: Slack
# 10 minutes: Email
# 30 minutes: Teams + Webhook (repeat every 20 minutes)
# 60 minutes: PagerDuty (repeat every 30 minutes)

# Security alerts escalation timeline:
# 0 minutes: Slack + Discord + Email (immediate)
# 2 minutes: PagerDuty + Teams
# 5 minutes: Webhook (repeat every 5 minutes)
# 10 minutes: PagerDuty (repeat every 10 minutes)

# =============================================================================
# RATE LIMITING EXAMPLES
# =============================================================================

# Default rate limits per channel:
# Slack: 10 per minute, burst 5
# Email: 5 per minute, burst 2
# Discord: 8 per minute, burst 3
# Teams: 6 per minute, burst 3
# PagerDuty: 3 per minute, burst 1
# Webhook: 15 per minute, burst 5